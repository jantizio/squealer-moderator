<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="public/vulture.svg" />
    <link rel="stylesheet" href="public/modern-normalize.min.css" />
    <link rel="stylesheet" href="public/css/global.css" />
    <title>Moderator Dashboard</title>
  </head>
  <body>
    <div id="root">
      <navbar-c></navbar-c>
      <main>
        <h1>Squeals</h1>
        <div id="squeals-list"></div>
      </main>
      <aside></aside>
    </div>

    <script type="module">
      import { getSqueals } from './src/api/squeals.mjs';
      import {} from './src/components/navbar/navbar.mjs';
      import {} from './src/components/squeal/squeal.mjs';
      

      const renderSquealsList = (squeals, container = '#squeals-list') => {
        const squealsList = document.querySelector(container);
        squealsList.innerHTML = '';
        squeals.forEach((squeal) => {
          const squealComponent = document.createElement('squeal-c');
          squealComponent.squeal = squeal;
          squealsList.appendChild(squealComponent);
        });
      };

      const squeals = await getSqueals();
      renderSquealsList(squeals);
    </script>
  </body>
</html>
